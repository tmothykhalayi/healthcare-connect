### Clean Authentication Test - Esthy Nandwa
### Base URL and Environment Variables
@baseUrl = http://localhost:8000
@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjI0LCJlbWFpbCI6ImVzdGh5Lm5hbmR3YUBleGFtcGxlLmNvbSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTE1MTY5ODYsImV4cCI6MTc1MTUxNzg4Nn0._LlaVmGjKWWu1pnEOKwhrzxhdnqfxmB0cMkNY9kkSi4
@refreshToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOjI0LCJlbWFpbCI6ImVzdGh5Lm5hbmR3YUBleGFtcGxlLmNvbSIsInJvbGUiOiJkb2N0b3IiLCJpYXQiOjE3NTE1MTY5ODYsImV4cCI6MTc1MjEyMTc4Nn0.4MKflwShfYj7AmC-XyceFVTf6mexqX-iml2_Ooad6K0

### ------------------------------------------
### 1. CREATE TEST USER - ESTHY NANDWA
### ------------------------------------------

### Create Esthy Nandwa user (Doctor)
POST {{baseUrl}}/users
Content-Type: application/json

{
  "email": "esthy.nandwa@example.com",
  "password": "123",
  "firstName": "Esthy",
  "lastName": "Nandwa",
  "phoneNumber": "+254712345679",
  "role": "doctor"
}

###

### ------------------------------------------
### 2. USER AUTHENTICATION
### ------------------------------------------

### Sign in with Esthy's credentials
POST {{baseUrl}}/auth/signin
Content-Type: application/json

{
  "email": "esthy.nandwa@example.com",
  "password": "123"
}

###


###


### Sign out Esthy
POST {{baseUrl}}/auth/signout
Authorization: Bearer {{accessToken}}

###

### ------------------------------------------
### 3. TOKEN REFRESH TEST
### ------------------------------------------


### Refresh access token (use refreshToken from signin response)
POST {{baseUrl}}/auth/refresh
Content-Type: application/json
Authorization: Bearer {{refreshToken}}


###

### ------------------------------------------
### 4. VERIFICATION ENDPOINTS
### ------------------------------------------

### Get all users (to verify Esthy was created)
GET {{baseUrl}}/users

###

### Get specific user by ID (replace with Esthy's ID after creation)
GET {{baseUrl}}/users/1

###